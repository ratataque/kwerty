---
title: "Karabiner-Elements"
description: "macOS key remapping with complex modifications and per-app rules"
category: "wm"
tool: "karabiner"
contributors: ["GrimalDev"]
repos: ["GrimalDev/dotfiles"]
configPath: "karabiner/karabiner.json"
platforms: ["macos"]
tags: ["wm", "keymapping", "macos"]
---

## Overview

Karabiner-Elements provides low-level key remapping on macOS. GrimalDev uses it for the same CapsLock dual-function remap that ratataque achieves with xremap on Linux, plus additional macOS-specific modifications.

## Key Modifications

### CapsLock â†’ Escape/Control

The core remap: tap CapsLock for Escape, hold for Control.

```json
{
  "description": "CapsLock to Escape (tap) / Control (hold)",
  "manipulators": [
    {
      "type": "basic",
      "from": { "key_code": "caps_lock" },
      "to": [{ "key_code": "left_control" }],
      "to_if_alone": [{ "key_code": "escape" }],
      "parameters": {
        "basic.to_if_alone_timeout_milliseconds": 150
      }
    }
  ]
}
```

### Vim Navigation Layer

```json
{
  "description": "Ctrl+HJKL to Arrow Keys",
  "manipulators": [
    {
      "type": "basic",
      "from": { "key_code": "h", "modifiers": { "mandatory": ["control"] } },
      "to": [{ "key_code": "left_arrow" }]
    },
    {
      "type": "basic",
      "from": { "key_code": "j", "modifiers": { "mandatory": ["control"] } },
      "to": [{ "key_code": "down_arrow" }]
    },
    {
      "type": "basic",
      "from": { "key_code": "k", "modifiers": { "mandatory": ["control"] } },
      "to": [{ "key_code": "up_arrow" }]
    },
    {
      "type": "basic",
      "from": { "key_code": "l", "modifiers": { "mandatory": ["control"] } },
      "to": [{ "key_code": "right_arrow" }]
    }
  ]
}
```

## Cross-Platform Consistency

The Karabiner config is designed to make macOS keybindings feel identical to ratataque's xremap setup on Linux. Same CapsLock behavior, same Ctrl+HJKL navigation, same muscle memory across platforms.
